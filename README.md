# é’¢ç­‹æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€å»ºç­‘è¡Œä¸šçš„å¿«é€Ÿå‘å±•ï¼Œé’¢ç­‹ä½œä¸ºæ··å‡åœŸç»“æ„çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå…¶è´¨é‡å’Œæ•°é‡çš„æ£€æµ‹å˜å¾—æ„ˆå‘é‡è¦ã€‚ä¼ ç»Ÿçš„é’¢ç­‹æ£€æµ‹æ–¹æ³•å¤šä¾èµ–äººå·¥ç›®æµ‹æˆ–ç®€å•çš„æµ‹é‡å·¥å…·ï¼Œè¿™ä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”å®¹æ˜“å—åˆ°äººä¸ºå› ç´ çš„å½±å“ï¼Œå¯¼è‡´æ£€æµ‹ç»“æœçš„ä¸å‡†ç¡®æ€§å’Œä¸ä¸€è‡´æ€§ã€‚å› æ­¤ï¼Œå¦‚ä½•æé«˜é’¢ç­‹æ£€æµ‹çš„è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–æ°´å¹³ï¼Œæˆä¸ºäº†å½“å‰å»ºç­‘å·¥ç¨‹é¢†åŸŸäºŸå¾…è§£å†³çš„é—®é¢˜ã€‚è¿‘å¹´æ¥ï¼Œæ·±åº¦å­¦ä¹ æŠ€æœ¯çš„è¿…çŒ›å‘å±•ä¸ºè¿™ä¸€é—®é¢˜æä¾›äº†æ–°çš„è§£å†³æ€è·¯ã€‚å°¤å…¶æ˜¯ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„å…ˆè¿›ç®—æ³•ï¼Œå¦‚YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—ï¼Œå› å…¶é«˜æ•ˆçš„å®æ—¶æ£€æµ‹èƒ½åŠ›å’Œè¾ƒé«˜çš„å‡†ç¡®ç‡ï¼Œé€æ¸æˆä¸ºç ”ç©¶è€…ä»¬å…³æ³¨çš„ç„¦ç‚¹ã€‚

YOLOv8ä½œä¸ºYOLOç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå…·å¤‡äº†æ›´å¼ºçš„ç‰¹å¾æå–èƒ½åŠ›å’Œæ›´å¿«çš„æ¨ç†é€Ÿåº¦ï¼Œé€‚ç”¨äºå„ç§å¤æ‚åœºæ™¯ä¸‹çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚åœ¨é’¢ç­‹æ£€æµ‹ä¸­ï¼ŒYOLOv8èƒ½å¤Ÿé€šè¿‡å…¶æ·±åº¦å­¦ä¹ æ¨¡å‹å¿«é€Ÿè¯†åˆ«ä¸åŒç›´å¾„çš„é’¢ç­‹ï¼Œå¹¶æä¾›å‡†ç¡®çš„å®šä½ä¿¡æ¯ï¼Œä»è€Œä¸ºåç»­çš„å·¥ç¨‹è´¨é‡æ§åˆ¶æä¾›æ•°æ®æ”¯æŒã€‚ä¸ºæ­¤ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„é’¢ç­‹æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶å…·æœ‰é‡è¦çš„ç†è®ºå’Œå®è·µæ„ä¹‰ã€‚

æœ¬ç ”ç©¶æ‰€ä½¿ç”¨çš„æ•°æ®é›†åŒ…å«2495å¼ å›¾åƒï¼Œæ¶µç›–äº†ä¸‰ç§ä¸åŒç›´å¾„çš„é’¢ç­‹ç±»åˆ«ï¼š16mmã€32mmå’Œ8mmã€‚è¿™ä¸€æ•°æ®é›†çš„æ„å»ºä¸ºæ¨¡å‹çš„è®­ç»ƒå’ŒéªŒè¯æä¾›äº†åšå®çš„åŸºç¡€ã€‚é€šè¿‡å¯¹ä¸åŒç›´å¾„é’¢ç­‹çš„è¯†åˆ«ä¸åˆ†ç±»ï¼Œç ”ç©¶è€…èƒ½å¤Ÿæ·±å…¥åˆ†æé’¢ç­‹åœ¨ä¸åŒæ–½å·¥é˜¶æ®µçš„ä½¿ç”¨æƒ…å†µï¼Œè¿›è€Œä¸ºæ–½å·¥ç®¡ç†æä¾›ç§‘å­¦ä¾æ®ã€‚æ­¤å¤–ï¼Œæ•°æ®é›†ä¸­åŒ…å«çš„å¤šæ ·åŒ–å›¾åƒæ ·æœ¬èƒ½å¤Ÿæœ‰æ•ˆæé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œä½¿å…¶åœ¨å®é™…åº”ç”¨ä¸­è¡¨ç°å‡ºæ›´å¼ºçš„é€‚åº”æ€§ã€‚

åœ¨ç ”ç©¶è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†é’ˆå¯¹YOLOv8æ¨¡å‹è¿›è¡Œæ”¹è¿›ï¼Œä»¥æé«˜å…¶åœ¨é’¢ç­‹æ£€æµ‹ä»»åŠ¡ä¸­çš„æ€§èƒ½ã€‚è¿™åŒ…æ‹¬ä¼˜åŒ–æ¨¡å‹çš„ç½‘ç»œç»“æ„ã€è°ƒæ•´è¶…å‚æ•°ã€å¢å¼ºæ•°æ®é›†çš„å¤šæ ·æ€§ç­‰ã€‚é€šè¿‡è¿™äº›æ”¹è¿›ï¼Œæˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿæ˜¾è‘—æå‡æ¨¡å‹çš„æ£€æµ‹ç²¾åº¦å’Œé€Ÿåº¦ï¼Œä½¿å…¶åœ¨å®é™…å·¥ç¨‹åº”ç”¨ä¸­å…·å¤‡æ›´é«˜çš„å®ç”¨ä»·å€¼ã€‚

æ€»ä¹‹ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„é’¢ç­‹æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶ï¼Œä¸ä»…èƒ½å¤Ÿæ¨åŠ¨å»ºç­‘è¡Œä¸šæ™ºèƒ½åŒ–æ£€æµ‹æŠ€æœ¯çš„å‘å±•ï¼Œè¿˜èƒ½ä¸ºç›¸å…³é¢†åŸŸçš„ç ”ç©¶æä¾›æ–°çš„æ€è·¯å’Œæ–¹æ³•ã€‚éšç€æ™ºèƒ½å»ºç­‘çš„ä¸æ–­æ™®åŠï¼Œé’¢ç­‹æ£€æµ‹çš„è‡ªåŠ¨åŒ–ç¨‹åº¦å°†ç›´æ¥å½±å“åˆ°å·¥ç¨‹çš„å®‰å…¨æ€§å’Œç»æµæ€§ã€‚å› æ­¤ï¼Œæœ¬ç ”ç©¶çš„å¼€å±•å…·æœ‰é‡è¦çš„ç°å®æ„ä¹‰å’Œå¹¿é˜”çš„åº”ç”¨å‰æ™¯ï¼Œå¿…å°†ä¸ºå»ºç­‘è¡Œä¸šçš„æŠ€æœ¯è¿›æ­¥å’Œè´¨é‡æå‡è´¡çŒ®åŠ›é‡ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV13nsHeKEU9/?vd_source=ff015de2d29cbe2a9cdbfa7064407a08)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨ç°ä»£å»ºç­‘å·¥ç¨‹ä¸­ï¼Œé’¢ç­‹çš„æ£€æµ‹ä¸è¯†åˆ«æ˜¯ç¡®ä¿ç»“æ„å®‰å…¨ä¸ç¨³å®šçš„é‡è¦ç¯èŠ‚ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªä¸“é—¨ç”¨äºè®­ç»ƒæ”¹è¿›YOLOv8çš„é’¢ç­‹æ£€æµ‹ç³»ç»Ÿçš„æ•°æ®é›†ï¼Œå‘½åä¸ºâ€œyash1â€ã€‚è¯¥æ•°æ®é›†æ—¨åœ¨æå‡é’¢ç­‹æ£€æµ‹çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤æ‚çš„æ–½å·¥ç¯å¢ƒä¸­ã€‚æ•°æ®é›†åŒ…å«2495å¼ é«˜è´¨é‡çš„å›¾åƒï¼Œè¿™äº›å›¾åƒç»è¿‡ç²¾å¿ƒæŒ‘é€‰å’Œæ ‡æ³¨ï¼Œç¡®ä¿äº†æ•°æ®çš„å¤šæ ·æ€§å’Œä»£è¡¨æ€§ã€‚

â€œyash1â€æ•°æ®é›†å…±æ¶µç›–ä¸‰ç§ä¸åŒç›´å¾„çš„é’¢ç­‹ç±»åˆ«ï¼Œåˆ†åˆ«ä¸º16mmã€32mmå’Œ8mmã€‚è¿™ä¸‰ç§ç±»åˆ«çš„é€‰æ‹©ä¸ä»…è€ƒè™‘åˆ°äº†å®é™…æ–½å·¥ä¸­å¸¸ç”¨çš„é’¢ç­‹è§„æ ¼ï¼Œä¹Ÿä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†ä¸°å¯Œçš„æ ·æœ¬ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨ä¸åŒæƒ…å†µä¸‹è¿›è¡Œæœ‰æ•ˆçš„è¯†åˆ«ä¸åˆ†ç±»ã€‚æ¯ä¸ªç±»åˆ«çš„å›¾åƒæ•°é‡å‡è¡¡ï¼Œç¡®ä¿äº†æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¸ä¼šåå‘æŸä¸€ç‰¹å®šç±»åˆ«ï¼Œä»è€Œæé«˜äº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚

æ•°æ®é›†ä¸­çš„å›¾åƒæ¥æºäºçœŸå®çš„æ–½å·¥ç°åœºï¼Œæ¶µç›–äº†å„ç§å…‰ç…§æ¡ä»¶ã€è§’åº¦å’ŒèƒŒæ™¯ã€‚è¿™ç§å¤šæ ·æ€§ä½¿å¾—æ¨¡å‹åœ¨é¢å¯¹å®é™…åº”ç”¨æ—¶ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”ä¸åŒçš„ç¯å¢ƒå’Œæ¡ä»¶ã€‚ä¾‹å¦‚ï¼ŒæŸäº›å›¾åƒæ˜¯åœ¨æ˜äº®çš„é˜³å…‰ä¸‹æ‹æ‘„çš„ï¼Œè€Œå¦ä¸€äº›åˆ™æ˜¯åœ¨é˜´å½±æˆ–ä½å…‰ç…§æ¡ä»¶ä¸‹è·å–çš„ã€‚è¿™ç§å˜åŒ–ä¸ä»…è€ƒéªŒäº†æ¨¡å‹çš„é²æ£’æ€§ï¼Œä¹Ÿä¸ºå…¶åœ¨å®é™…åº”ç”¨ä¸­çš„è¡¨ç°æä¾›äº†æ›´é«˜çš„å¯é æ€§ã€‚

åœ¨æ ‡æ³¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ç²¾ç¡®çš„è¾¹ç•Œæ¡†æŠ€æœ¯ï¼Œç¡®ä¿æ¯ä¸€æ ¹é’¢ç­‹éƒ½è¢«å‡†ç¡®åœ°æ¡†å®šã€‚è¿™æ ·çš„ç»†è‡´æ ‡æ³¨ä½¿å¾—YOLOv8æ¨¡å‹åœ¨è®­ç»ƒæ—¶èƒ½å¤Ÿè·å¾—å‡†ç¡®çš„ä½ç½®ä¿¡æ¯ï¼Œä»è€Œæé«˜äº†å…¶æ£€æµ‹ç²¾åº¦ã€‚æ­¤å¤–ï¼Œæ•°æ®é›†è¿˜åŒ…å«äº†ä¸åŒèƒŒæ™¯ä¸‹çš„é’¢ç­‹å›¾åƒï¼Œå¦‚æ··å‡åœŸã€ç –çŸ³ç­‰ææ–™ï¼Œè¿™ä¸ºæ¨¡å‹æä¾›äº†ä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¸®åŠ©å…¶æ›´å¥½åœ°ç†è§£é’¢ç­‹ä¸å‘¨å›´ç¯å¢ƒçš„å…³ç³»ã€‚

è¯¥æ•°æ®é›†éµå¾ªCC BY 4.0è®¸å¯è¯ï¼Œå…è®¸ç”¨æˆ·åœ¨éµå¾ªç›¸å…³æ¡æ¬¾çš„å‰æä¸‹è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹æ•°æ®ã€‚è¿™ç§å¼€æ”¾æ€§ä¸ä»…ä¿ƒè¿›äº†å­¦æœ¯ç ”ç©¶çš„äº¤æµä¸åˆä½œï¼Œä¹Ÿä¸ºå·¥ç¨‹å¸ˆå’Œç ”ç©¶äººå‘˜æä¾›äº†å®è´µçš„èµ„æºï¼Œä»¥æ¨åŠ¨é’¢ç­‹æ£€æµ‹æŠ€æœ¯çš„å‘å±•ã€‚

æ€»ä¹‹ï¼Œâ€œyash1â€æ•°æ®é›†ä¸ºæ”¹è¿›YOLOv8çš„é’¢ç­‹æ£€æµ‹ç³»ç»Ÿæä¾›äº†åšå®çš„åŸºç¡€ã€‚é€šè¿‡å¯¹2495å¼ å›¾åƒçš„ç²¾å¿ƒæ ‡æ³¨å’Œå¤šæ ·åŒ–çš„ç±»åˆ«è®¾ç½®ï¼Œæˆ‘ä»¬ç›¸ä¿¡è¯¥æ•°æ®é›†å°†ä¸ºé’¢ç­‹æ£€æµ‹çš„è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–æä¾›å¼ºæœ‰åŠ›çš„æ”¯æŒã€‚æœªæ¥ï¼Œéšç€æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥å’Œæ•°æ®é›†çš„ä¸æ–­å®Œå–„ï¼Œæˆ‘ä»¬æœŸå¾…åœ¨é’¢ç­‹æ£€æµ‹é¢†åŸŸå–å¾—æ›´å¤§çš„çªç ´ï¼Œä¸ºå»ºç­‘å®‰å…¨è´¡çŒ®ä¸€ä»½åŠ›é‡ã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ç®—æ³•æ˜¯ç›®æ ‡æ£€æµ‹é¢†åŸŸä¸­çš„ä¸€é¡¹é‡è¦è¿›å±•ï¼Œç”±Glenn-Jocheræå‡ºï¼Œæ‰¿æ¥äº†YOLOç³»åˆ—ç®—æ³•çš„ä¼˜è‰¯ä¼ ç»Ÿï¼Œå°¤å…¶æ˜¯YOLOv3å’ŒYOLOv5çš„è®¾è®¡ç†å¿µã€‚YOLOv8åœ¨å¤šä¸ªæ–¹é¢è¿›è¡Œäº†åˆ›æ–°å’Œæ”¹è¿›ï¼Œæ—¨åœ¨æé«˜ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦å’Œæ•ˆç‡ã€‚å…¶è®¾è®¡æ€æƒ³ä¸ä»…ä½“ç°åœ¨ç½‘ç»œç»“æ„çš„ä¼˜åŒ–ä¸Šï¼Œè¿˜ä½“ç°åœ¨æ•°æ®å¤„ç†ã€æ ‡ç­¾åˆ†é…å’ŒæŸå¤±å‡½æ•°çš„è®¾è®¡ç­‰å¤šä¸ªå±‚é¢ã€‚

é¦–å…ˆï¼ŒYOLOv8åœ¨æ•°æ®é¢„å¤„ç†æ–¹é¢å»¶ç»­äº†YOLOv5çš„æˆåŠŸç­–ç•¥ï¼Œé‡‡ç”¨äº†å¤šç§æ•°æ®å¢å¼ºæŠ€æœ¯æ¥æå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚å…·ä½“è€Œè¨€ï¼ŒYOLOv8ä½¿ç”¨äº†é©¬èµ›å…‹å¢å¼ºã€æ··åˆå¢å¼ºã€ç©ºé—´æ‰°åŠ¨å’Œé¢œè‰²æ‰°åŠ¨ç­‰æ‰‹æ®µã€‚è¿™äº›å¢å¼ºæ–¹æ³•é€šè¿‡å¯¹è¾“å…¥å›¾åƒè¿›è¡Œå¤šæ ·åŒ–å¤„ç†ï¼Œå¢åŠ äº†è®­ç»ƒæ ·æœ¬çš„å¤šæ ·æ€§ï¼Œä»è€Œå¸®åŠ©æ¨¡å‹æ›´å¥½åœ°é€‚åº”ä¸åŒçš„åœºæ™¯å’Œæ¡ä»¶ã€‚é©¬èµ›å…‹å¢å¼ºé€šè¿‡å°†å¤šå¼ å›¾åƒæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆæ–°çš„è®­ç»ƒæ ·æœ¬ï¼Œæœ‰æ•ˆåœ°æå‡äº†æ¨¡å‹å¯¹å°ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ï¼›è€Œæ··åˆå¢å¼ºåˆ™é€šè¿‡å°†ä¸¤å¼ å›¾åƒè¿›è¡ŒåŠ æƒç»„åˆï¼Œè¿›ä¸€æ­¥ä¸°å¯Œäº†æ•°æ®é›†çš„ç‰¹å¾åˆ†å¸ƒã€‚

åœ¨ç½‘ç»œç»“æ„æ–¹é¢ï¼ŒYOLOv8çš„ä¸»å¹²ç½‘ç»œåœ¨YOLOv5çš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ”¹è¿›ï¼Œé‡‡ç”¨äº†æ–°çš„C2fæ¨¡å—æ›¿ä»£äº†åŸæœ‰çš„C3æ¨¡å—ã€‚C2fæ¨¡å—çš„è®¾è®¡å¼•å…¥äº†æ›´å¤šçš„åˆ†æ”¯ï¼Œå¢å¼ºäº†ç‰¹å¾çš„å¤šæ ·æ€§å’Œæ¢¯åº¦æµåŠ¨çš„æ•ˆç‡ã€‚è¿™ç§ç»“æ„çš„å˜åŒ–ä½¿å¾—ç½‘ç»œåœ¨ç‰¹å¾æå–è¿‡ç¨‹ä¸­èƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰åˆ°å¤æ‚çš„æ¨¡å¼å’Œç»†èŠ‚ï¼Œè¿›è€Œæå‡äº†ç›®æ ‡æ£€æµ‹çš„å‡†ç¡®æ€§ã€‚C2fæ¨¡å—çš„å¼•å…¥ä¸ä»…æé«˜äº†ç‰¹å¾çš„è¡¨è¾¾èƒ½åŠ›ï¼Œè¿˜é€šè¿‡ä¸°å¯Œçš„åˆ†æ”¯ç»“æ„æ”¹å–„äº†æ¢¯åº¦å›ä¼ çš„æ•ˆæœï¼Œä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿæ›´å¿«åœ°æ”¶æ•›ã€‚

YOLOv8ä¾ç„¶é‡‡ç”¨äº†FPNï¼ˆç‰¹å¾é‡‘å­—å¡”ç½‘ç»œï¼‰å’ŒPANï¼ˆè·¯å¾„èšåˆç½‘ç»œï¼‰ç»“æ„ï¼Œä»¥å®ç°å¤šå°ºåº¦ç‰¹å¾çš„æœ‰æ•ˆèåˆã€‚FPNå’ŒPANçš„ç»“åˆä½¿å¾—ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾èƒ½å¤Ÿå……åˆ†äº¤äº’ï¼Œå¢å¼ºäº†æ¨¡å‹å¯¹ä¸åŒå¤§å°ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ã€‚é€šè¿‡è¿™ç§ç»“æ„ï¼ŒYOLOv8èƒ½å¤Ÿåœ¨ä¸åŒå±‚æ¬¡ä¸Šæå–ç‰¹å¾ï¼Œå¹¶å°†å…¶æ•´åˆä¸ºä¸€ä¸ªæ›´ä¸ºå…¨é¢çš„ç‰¹å¾è¡¨ç¤ºï¼Œè¿›è€Œæé«˜äº†ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦ã€‚

åœ¨æ£€æµ‹å¤´çš„è®¾è®¡ä¸Šï¼ŒYOLOv8é‡‡ç”¨äº†è§£è€¦çš„æ£€æµ‹å¤´ç»“æ„ï¼Œè¿™ä¸€è®¾è®¡çµæ„Ÿæºè‡ªäºYOLOXçš„åˆ›æ–°ã€‚è§£è€¦å¤´é€šè¿‡å°†åˆ†ç±»å’Œå®šä½ä»»åŠ¡åˆ†å¼€å¤„ç†ï¼Œåˆ†åˆ«ä½¿ç”¨ä¸¤æ¡å¹¶è¡Œçš„å·ç§¯åˆ†æ”¯æ¥æå–ç±»åˆ«ç‰¹å¾å’Œä½ç½®ç‰¹å¾ã€‚è¿™ç§è®¾è®¡ä¸ä»…æé«˜äº†æ¨¡å‹çš„çµæ´»æ€§ï¼Œè¿˜ä½¿å¾—åˆ†ç±»å’Œå®šä½çš„æŸå¤±è®¡ç®—æ›´åŠ ç‹¬ç«‹ï¼Œè¿›è€Œæå‡äº†æ•´ä½“çš„æ£€æµ‹æ€§èƒ½ã€‚

æ ‡ç­¾åˆ†é…ç­–ç•¥æ˜¯YOLOv8çš„ä¸€å¤§äº®ç‚¹ã€‚ä¸åŒäºYOLOv5ä¾èµ–äºå€™é€‰æ¡†èšç±»çš„æ–¹å¼ï¼ŒYOLOv8é‡‡ç”¨äº†TOODï¼ˆTask-Oriented Object Detectionï¼‰ç­–ç•¥ï¼Œè¿™æ˜¯ä¸€ç§åŠ¨æ€æ ‡ç­¾åˆ†é…çš„æ–¹æ³•ã€‚TOODç­–ç•¥é€šè¿‡ä½¿ç”¨ç›®æ ‡è¾¹ç•Œæ¡†å’Œç›®æ ‡åˆ†æ•°ï¼Œé¿å…äº†å¯¹æ•°æ®é›†åˆ†å¸ƒçš„è¿‡åº¦ä¾èµ–ï¼Œä»è€Œä½¿å¾—æ­£è´Ÿæ ·æœ¬çš„åŒ¹é…æ›´åŠ é«˜æ•ˆã€‚YOLOv8çš„æŸå¤±å‡½æ•°ä¸»è¦ç”±ç±»åˆ«æŸå¤±å’Œä½ç½®æŸå¤±æ„æˆï¼Œå…¶ä¸­ç±»åˆ«æŸå¤±é‡‡ç”¨äº†VFLï¼ˆVarifocal Lossï¼‰ï¼Œè€Œä½ç½®æŸå¤±åˆ™ç»“åˆäº†CIoUï¼ˆComplete Intersection over Unionï¼‰å’ŒDFLï¼ˆDistributions Focal Lossï¼‰ä¸¤ç§å½¢å¼ã€‚VFLé€šè¿‡å¯¹æ­£è´Ÿæ ·æœ¬è¿›è¡Œä¸å¯¹ç§°åŠ æƒï¼Œå¼ºè°ƒäº†é«˜è´¨é‡æ­£æ ·æœ¬åœ¨è®­ç»ƒä¸­çš„é‡è¦æ€§ï¼Œä»è€Œæå‡äº†æ¨¡å‹çš„æ•´ä½“æ€§èƒ½ã€‚

YOLOv8çš„æ•´ä½“æ¶æ„è®¾è®¡ä½“ç°äº†æ·±åº¦å­¦ä¹ é¢†åŸŸå¯¹ç›®æ ‡æ£€æµ‹ä»»åŠ¡çš„æ·±åˆ»ç†è§£å’Œä¸æ–­æ¢ç´¢ã€‚é€šè¿‡å¯¹æ•°æ®é¢„å¤„ç†ã€ç½‘ç»œç»“æ„ã€æ£€æµ‹å¤´è®¾è®¡å’Œæ ‡ç­¾åˆ†é…ç­–ç•¥çš„å…¨é¢ä¼˜åŒ–ï¼ŒYOLOv8åœ¨ç›®æ ‡æ£€æµ‹çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ä¸Šå–å¾—äº†æ˜¾è‘—çš„æå‡ã€‚å…¶åˆ›æ–°çš„æ¨¡å—è®¾è®¡å’Œçµæ´»çš„æŸå¤±å‡½æ•°ä½¿å¾—YOLOv8åœ¨å¤„ç†å¤æ‚åœºæ™¯å’Œå¤šæ ·åŒ–ç›®æ ‡æ—¶ï¼Œå±•ç°å‡ºäº†æ›´å¼ºçš„é€‚åº”èƒ½åŠ›å’Œé²æ£’æ€§ã€‚

æ€»ä¹‹ï¼ŒYOLOv8ä¸ä»…æ˜¯YOLOç³»åˆ—ç®—æ³•çš„å»¶ç»­ï¼Œæ›´æ˜¯å¯¹ç›®æ ‡æ£€æµ‹æŠ€æœ¯çš„ä¸€æ¬¡é‡è¦é©æ–°ã€‚é€šè¿‡å¯¹å„ä¸ªæ¨¡å—çš„æ·±å…¥ç ”ç©¶å’Œä¼˜åŒ–ï¼ŒYOLOv8åœ¨ç›®æ ‡æ£€æµ‹é¢†åŸŸæ ‘ç«‹äº†æ–°çš„æ ‡æ†ï¼Œä¸ºåç»­çš„ç ”ç©¶å’Œåº”ç”¨æä¾›äº†ä¸°å¯Œçš„æ€è·¯å’Œæ–¹æ³•ã€‚éšç€YOLOv8çš„å¹¿æ³›åº”ç”¨ï¼Œç›®æ ‡æ£€æµ‹æŠ€æœ¯å°†è¿æ¥æ›´åŠ å¹¿é˜”çš„å‘å±•å‰æ™¯ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 ultralytics\data\augment.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶æ·»åŠ äº†è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šã€‚ä¸»è¦ä¿ç•™äº†å›¾åƒå˜æ¢çš„åŸºç¡€ç±»å’Œä¸€äº›é‡è¦çš„å˜æ¢å®ç°ã€‚

```python
import random
import numpy as np
import cv2
import torch

class BaseTransform:
    """
    å›¾åƒå˜æ¢çš„åŸºç¡€ç±»ã€‚

    è¯¥ç±»æ˜¯ä¸€ä¸ªé€šç”¨çš„å˜æ¢ç±»ï¼Œå¯ä»¥æ ¹æ®ç‰¹å®šçš„å›¾åƒå¤„ç†éœ€æ±‚è¿›è¡Œæ‰©å±•ã€‚
    è¯¥ç±»è®¾è®¡ä¸ºä¸åˆ†ç±»å’Œè¯­ä¹‰åˆ†å‰²ä»»åŠ¡å…¼å®¹ã€‚

    æ–¹æ³•ï¼š
        __init__: åˆå§‹åŒ–BaseTransformå¯¹è±¡ã€‚
        apply_image: å¯¹æ ‡ç­¾åº”ç”¨å›¾åƒå˜æ¢ã€‚
        apply_instances: å¯¹æ ‡ç­¾ä¸­çš„å¯¹è±¡å®ä¾‹åº”ç”¨å˜æ¢ã€‚
        apply_semantic: å¯¹å›¾åƒåº”ç”¨è¯­ä¹‰åˆ†å‰²å˜æ¢ã€‚
        __call__: å¯¹å›¾åƒã€å®ä¾‹å’Œè¯­ä¹‰æ©ç åº”ç”¨æ‰€æœ‰æ ‡ç­¾å˜æ¢ã€‚
    """

    def __init__(self) -> None:
        """åˆå§‹åŒ–BaseTransformå¯¹è±¡ã€‚"""
        pass

    def apply_image(self, labels):
        """å¯¹æ ‡ç­¾åº”ç”¨å›¾åƒå˜æ¢ã€‚"""
        pass

    def apply_instances(self, labels):
        """å¯¹æ ‡ç­¾ä¸­çš„å¯¹è±¡å®ä¾‹åº”ç”¨å˜æ¢ã€‚"""
        pass

    def apply_semantic(self, labels):
        """å¯¹å›¾åƒåº”ç”¨è¯­ä¹‰åˆ†å‰²å˜æ¢ã€‚"""
        pass

    def __call__(self, labels):
        """å¯¹å›¾åƒã€å®ä¾‹å’Œè¯­ä¹‰æ©ç åº”ç”¨æ‰€æœ‰æ ‡ç­¾å˜æ¢ã€‚"""
        self.apply_image(labels)
        self.apply_instances(labels)
        self.apply_semantic(labels)


class Mosaic(BaseTransform):
    """
    Mosaicå¢å¼ºã€‚

    è¯¥ç±»é€šè¿‡å°†å¤šä¸ªï¼ˆ4æˆ–9ï¼‰å¼ å›¾åƒç»„åˆæˆä¸€å¼ é©¬èµ›å…‹å›¾åƒæ¥æ‰§è¡Œmosaicå¢å¼ºã€‚
    å¢å¼ºä»¥ç»™å®šçš„æ¦‚ç‡åº”ç”¨äºæ•°æ®é›†ã€‚

    å±æ€§ï¼š
        dataset: åº”ç”¨mosaicå¢å¼ºçš„æ•°æ®é›†ã€‚
        imgsz (int, optional): å•å¼ å›¾åƒç»è¿‡mosaicå¤„ç†åçš„å›¾åƒå¤§å°ï¼ˆé«˜åº¦å’Œå®½åº¦ï¼‰ã€‚é»˜è®¤ä¸º640ã€‚
        p (float, optional): åº”ç”¨mosaicå¢å¼ºçš„æ¦‚ç‡ã€‚å¿…é¡»åœ¨0-1èŒƒå›´å†…ã€‚é»˜è®¤ä¸º1.0ã€‚
        n (int, optional): ç½‘æ ¼å¤§å°ï¼Œ4ï¼ˆ2x2ï¼‰æˆ–9ï¼ˆ3x3ï¼‰ã€‚
    """

    def __init__(self, dataset, imgsz=640, p=1.0, n=4):
        """åˆå§‹åŒ–å¯¹è±¡ï¼ŒåŒ…å«æ•°æ®é›†ã€å›¾åƒå¤§å°ã€æ¦‚ç‡å’Œè¾¹ç•Œã€‚"""
        assert 0 <= p <= 1.0, f"æ¦‚ç‡åº”åœ¨[0, 1]èŒƒå›´å†…ï¼Œä½†å¾—åˆ°{p}ã€‚"
        assert n in (4, 9), "ç½‘æ ¼å¿…é¡»ç­‰äº4æˆ–9ã€‚"
        super().__init__()
        self.dataset = dataset
        self.imgsz = imgsz
        self.border = (-imgsz // 2, -imgsz // 2)  # è¾¹ç•Œ
        self.n = n

    def get_indexes(self):
        """è¿”å›æ•°æ®é›†ä¸­éšæœºç´¢å¼•çš„åˆ—è¡¨ã€‚"""
        return random.sample(range(len(self.dataset)), self.n - 1)

    def _mix_transform(self, labels):
        """å¯¹è¾“å…¥å›¾åƒå’Œæ ‡ç­¾åº”ç”¨mixupå˜æ¢ã€‚"""
        return self._mosaic4(labels)  # ä»…å®ç°4å¼ å›¾åƒçš„mosaic

    def _mosaic4(self, labels):
        """åˆ›å»º2x2çš„å›¾åƒé©¬èµ›å…‹ã€‚"""
        mosaic_labels = []
        s = self.imgsz
        img4 = np.full((s * 2, s * 2, 3), 114, dtype=np.uint8)  # åˆ›å»ºä¸€ä¸ªç©ºç™½çš„é©¬èµ›å…‹å›¾åƒ
        for i in range(4):
            labels_patch = labels if i == 0 else labels["mix_labels"][i - 1]
            img = labels_patch["img"]
            h, w = labels_patch.pop("resized_shape")

            # å°†å›¾åƒæ”¾ç½®åœ¨é©¬èµ›å…‹å›¾åƒçš„é€‚å½“ä½ç½®
            if i == 0:  # å·¦ä¸Šè§’
                x1, y1, x2, y2 = 0, 0, w, h
            elif i == 1:  # å³ä¸Šè§’
                x1, y1, x2, y2 = s, 0, s + w, h
            elif i == 2:  # å·¦ä¸‹è§’
                x1, y1, x2, y2 = 0, s, w, s + h
            elif i == 3:  # å³ä¸‹è§’
                x1, y1, x2, y2 = s, s, s + w, s + h

            img4[y1:y2, x1:x2] = img  # å°†å›¾åƒæ”¾å…¥é©¬èµ›å…‹å›¾åƒä¸­
            mosaic_labels.append(labels_patch)  # ä¿å­˜æ ‡ç­¾ä¿¡æ¯

        final_labels = self._cat_labels(mosaic_labels)
        final_labels["img"] = img4  # è¿”å›æœ€ç»ˆçš„é©¬èµ›å…‹å›¾åƒ
        return final_labels

    def _cat_labels(self, mosaic_labels):
        """è¿”å›å¸¦æœ‰é©¬èµ›å…‹è¾¹ç•Œå®ä¾‹å‰ªè£çš„æ ‡ç­¾ã€‚"""
        cls = []
        instances = []
        for labels in mosaic_labels:
            cls.append(labels["cls"])
            instances.append(labels["instances"])
        final_labels = {
            "cls": np.concatenate(cls, 0),
            "instances": Instances.concatenate(instances, axis=0),
        }
        return final_labels


class RandomFlip:
    """
    éšæœºæ°´å¹³æˆ–å‚ç›´ç¿»è½¬å›¾åƒï¼Œå…·æœ‰ç»™å®šçš„æ¦‚ç‡ã€‚

    è¿˜ä¼šç›¸åº”åœ°æ›´æ–°ä»»ä½•å®ä¾‹ï¼ˆè¾¹ç•Œæ¡†ã€å…³é”®ç‚¹ç­‰ï¼‰ã€‚
    """

    def __init__(self, p=0.5, direction="horizontal") -> None:
        """åˆå§‹åŒ–RandomFlipç±»ï¼Œè®¾ç½®ç¿»è½¬æ¦‚ç‡å’Œæ–¹å‘ã€‚"""
        assert direction in ["horizontal", "vertical"], f"æ”¯æŒçš„æ–¹å‘ä¸º`horizontal`æˆ–`vertical`ï¼Œå¾—åˆ°{direction}"
        assert 0 <= p <= 1.0

        self.p = p
        self.direction = direction

    def __call__(self, labels):
        """å¯¹å›¾åƒåº”ç”¨éšæœºç¿»è½¬ï¼Œå¹¶ç›¸åº”æ›´æ–°å®ä¾‹ã€‚"""
        img = labels["img"]
        if self.direction == "vertical" and random.random() < self.p:
            img = np.flipud(img)  # å‚ç›´ç¿»è½¬
        if self.direction == "horizontal" and random.random() < self.p:
            img = np.fliplr(img)  # æ°´å¹³ç¿»è½¬
        labels["img"] = img
        return labels


class LetterBox:
    """å›¾åƒçš„è°ƒæ•´å¤§å°å’Œå¡«å……ï¼Œç”¨äºæ£€æµ‹ã€å®ä¾‹åˆ†å‰²ã€å§¿æ€ä¼°è®¡ã€‚"""

    def __init__(self, new_shape=(640, 640)):
        """åˆå§‹åŒ–LetterBoxå¯¹è±¡ï¼Œè®¾ç½®ç›®æ ‡å½¢çŠ¶ã€‚"""
        self.new_shape = new_shape

    def __call__(self, labels=None, image=None):
        """è¿”å›æ›´æ–°åçš„æ ‡ç­¾å’Œå›¾åƒï¼Œæ·»åŠ è¾¹æ¡†ã€‚"""
        img = labels.get("img") if image is None else image
        shape = img.shape[:2]  # å½“å‰å½¢çŠ¶ [é«˜åº¦, å®½åº¦]
        r = min(self.new_shape[0] / shape[0], self.new_shape[1] / shape[1])  # ç¼©æ”¾æ¯”ä¾‹
        new_unpad = int(round(shape[1] * r)), int(round(shape[0] * r))  # æ–°çš„æœªå¡«å……å½¢çŠ¶
        dw, dh = self.new_shape[1] - new_unpad[0], self.new_shape[0] - new_unpad[1]  # å®½é«˜å¡«å……
        dw, dh = dw / 2, dh / 2  # å°†å¡«å……åˆ†é…åˆ°ä¸¤ä¾§

        img = cv2.resize(img, new_unpad, interpolation=cv2.INTER_LINEAR)  # è°ƒæ•´å¤§å°
        img = cv2.copyMakeBorder(img, int(dh), int(dh), int(dw), int(dw), cv2.BORDER_CONSTANT, value=(114, 114, 114))  # æ·»åŠ è¾¹æ¡†
        labels["img"] = img
        return labels


def v8_transforms(dataset, imgsz):
    """å°†å›¾åƒè½¬æ¢ä¸ºé€‚åˆYOLOv8è®­ç»ƒçš„å¤§å°ã€‚"""
    return Compose(
        [
            Mosaic(dataset, imgsz=imgsz, p=1.0),  # åº”ç”¨Mosaicå¢å¼º
            RandomFlip(direction="horizontal", p=0.5),  # åº”ç”¨éšæœºæ°´å¹³ç¿»è½¬
            LetterBox(new_shape=(imgsz, imgsz)),  # åº”ç”¨LetterBoxè°ƒæ•´
        ]
    )  # è¿”å›ç»„åˆçš„å˜æ¢
```

### ä»£ç è¯´æ˜
1. **BaseTransform**: è¿™æ˜¯ä¸€ä¸ªåŸºç¡€ç±»ï¼Œå®šä¹‰äº†å›¾åƒå˜æ¢çš„åŸºæœ¬ç»“æ„ã€‚å®ƒåŒ…å«äº†åº”ç”¨å›¾åƒã€å®ä¾‹å’Œè¯­ä¹‰åˆ†å‰²çš„å ä½æ–¹æ³•ã€‚

2. **Mosaic**: è¯¥ç±»å®ç°äº†mosaicå¢å¼ºï¼Œé€šè¿‡å°†å¤šå¼ å›¾åƒç»„åˆæˆä¸€å¼ é©¬èµ›å…‹å›¾åƒæ¥å¢å¼ºæ•°æ®é›†ã€‚å®ƒæ”¯æŒ4å¼ æˆ–9å¼ å›¾åƒçš„ç»„åˆã€‚

3. **RandomFlip**: è¯¥ç±»å®ç°äº†éšæœºç¿»è½¬å›¾åƒçš„åŠŸèƒ½ï¼Œå¯ä»¥é€‰æ‹©æ°´å¹³æˆ–å‚ç›´ç¿»è½¬ã€‚

4. **LetterBox**: è¯¥ç±»ç”¨äºè°ƒæ•´å›¾åƒå¤§å°å¹¶æ·»åŠ è¾¹æ¡†ï¼Œä»¥é€‚åº”ç›®æ ‡æ£€æµ‹å’Œåˆ†å‰²ä»»åŠ¡ã€‚

5. **v8_transforms**: è¿™æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå°†å›¾åƒè½¬æ¢ä¸ºé€‚åˆYOLOv8è®­ç»ƒçš„å¤§å°ï¼Œå¹¶åº”ç”¨ä¸€ç³»åˆ—å˜æ¢ã€‚

è¿™äº›æ ¸å¿ƒéƒ¨åˆ†ä¸ºå›¾åƒå¤„ç†å’Œæ•°æ®å¢å¼ºæä¾›äº†åŸºç¡€åŠŸèƒ½ï¼Œé€‚ç”¨äºç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†ç±»ç­‰ä»»åŠ¡ã€‚

è¿™ä¸ªæ–‡ä»¶ `ultralytics\data\augment.py` æ˜¯ä¸€ä¸ªç”¨äºå›¾åƒå¢å¼ºçš„æ¨¡å—ï¼Œä¸»è¦ç”¨äº YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è®­ç»ƒã€‚è¯¥æ¨¡å—å®ç°äº†å¤šç§å›¾åƒå¢å¼ºæŠ€æœ¯ï¼Œä»¥æé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œé²æ£’æ€§ã€‚ä»¥ä¸‹æ˜¯å¯¹è¯¥æ–‡ä»¶ä¸­ä¸»è¦ç±»å’ŒåŠŸèƒ½çš„é€ä¸€è¯´æ˜ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸€äº›å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬æ•°å­¦è¿ç®—ã€éšæœºæ•°ç”Ÿæˆã€æ·±åº¦å­¦ä¹ æ¡†æ¶ PyTorchã€å›¾åƒå¤„ç†åº“ OpenCV å’Œ NumPy ç­‰ã€‚æ¥ç€ï¼Œå®šä¹‰äº†ä¸€äº›å¸¸é‡ï¼Œå¦‚é»˜è®¤çš„å‡å€¼å’Œæ ‡å‡†å·®ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€ä¸ªåŸºç±» `BaseTransform`ï¼Œå®ƒæ˜¯æ‰€æœ‰å›¾åƒå˜æ¢çš„åŸºç¡€ç±»ã€‚è¯¥ç±»åŒ…å«ä¸€äº›æ–¹æ³•ï¼Œç”¨äºåº”ç”¨å›¾åƒå˜æ¢ã€å®ä¾‹å˜æ¢å’Œè¯­ä¹‰åˆ†å‰²å˜æ¢ã€‚å®ƒçš„ `__call__` æ–¹æ³•å¯ä»¥å°†æ‰€æœ‰æ ‡ç­¾å˜æ¢åº”ç”¨äºå›¾åƒã€‚

`Compose` ç±»ç”¨äºå°†å¤šä¸ªå›¾åƒå˜æ¢ç»„åˆåœ¨ä¸€èµ·ã€‚å®ƒçš„ `__call__` æ–¹æ³•ä¾æ¬¡åº”ç”¨æ‰€æœ‰å˜æ¢ï¼Œå¹¶è¿”å›å¤„ç†åçš„æ•°æ®ã€‚

`BaseMixTransform` ç±»æ˜¯ä¸€ä¸ªç”¨äºæ··åˆå¢å¼ºï¼ˆå¦‚ MixUp å’Œ Mosaicï¼‰çš„åŸºç±»ã€‚å®ƒçš„ `__call__` æ–¹æ³•ä¼šæ ¹æ®ç»™å®šçš„æ¦‚ç‡åº”ç”¨é¢„å¤„ç†å˜æ¢å’Œæ··åˆå˜æ¢ã€‚

`Mosaic` ç±»å®ç°äº†é©¬èµ›å…‹å¢å¼ºï¼Œé€šè¿‡å°†å¤šä¸ªå›¾åƒï¼ˆé€šå¸¸æ˜¯ 4 æˆ– 9 å¼ ï¼‰ç»„åˆæˆä¸€å¼ é©¬èµ›å…‹å›¾åƒã€‚è¯¥ç±»çš„æ„é€ å‡½æ•°æ¥å—æ•°æ®é›†ã€å›¾åƒå¤§å°ã€åº”ç”¨æ¦‚ç‡å’Œç½‘æ ¼å¤§å°ç­‰å‚æ•°ã€‚å®ƒçš„ `get_indexes` æ–¹æ³•éšæœºé€‰æ‹©å…¶ä»–å›¾åƒçš„ç´¢å¼•ï¼Œè€Œ `_mix_transform` æ–¹æ³•åˆ™æ‰§è¡Œå®é™…çš„é©¬èµ›å…‹å¢å¼ºã€‚

`MixUp` ç±»å®ç°äº† MixUp å¢å¼ºï¼Œé€šè¿‡å°†ä¸¤å¼ å›¾åƒæ··åˆåœ¨ä¸€èµ·ï¼Œç”Ÿæˆæ–°çš„å›¾åƒã€‚å®ƒçš„ `get_indexes` æ–¹æ³•éšæœºé€‰æ‹©ä¸€å¼ å›¾åƒï¼Œè€Œ `_mix_transform` æ–¹æ³•åˆ™æ‰§è¡Œå›¾åƒæ··åˆã€‚

`RandomPerspective` ç±»å®ç°äº†éšæœºé€è§†å˜æ¢å’Œä»¿å°„å˜æ¢ï¼Œå¯ä»¥å¯¹å›¾åƒåŠå…¶å¯¹åº”çš„è¾¹ç•Œæ¡†ã€åˆ†å‰²å’Œå…³é”®ç‚¹è¿›è¡Œå˜æ¢ã€‚è¯¥ç±»æä¾›äº†å¤šç§å˜æ¢å‚æ•°ï¼Œå¦‚æ—‹è½¬ã€å¹³ç§»ã€ç¼©æ”¾å’Œå‰ªåˆ‡ã€‚

`RandomHSV` ç±»è´Ÿè´£å¯¹å›¾åƒçš„è‰²è°ƒã€é¥±å’Œåº¦å’Œäº®åº¦è¿›è¡Œéšæœºè°ƒæ•´ï¼Œä»¥å¢åŠ å›¾åƒçš„å¤šæ ·æ€§ã€‚

`RandomFlip` ç±»å®ç°äº†éšæœºç¿»è½¬åŠŸèƒ½ï¼Œå¯ä»¥å¯¹å›¾åƒè¿›è¡Œæ°´å¹³æˆ–å‚ç›´ç¿»è½¬ï¼Œå¹¶ç›¸åº”åœ°æ›´æ–°å®ä¾‹ï¼ˆå¦‚è¾¹ç•Œæ¡†å’Œå…³é”®ç‚¹ï¼‰ã€‚

`LetterBox` ç±»ç”¨äºè°ƒæ•´å›¾åƒå¤§å°å¹¶è¿›è¡Œå¡«å……ï¼Œä»¥é€‚åº”ç›®æ ‡æ£€æµ‹ã€å®ä¾‹åˆ†å‰²å’Œå§¿æ€ä¼°è®¡ç­‰ä»»åŠ¡ã€‚å®ƒçš„ `__call__` æ–¹æ³•è¿”å›æ›´æ–°åçš„æ ‡ç­¾å’Œå›¾åƒã€‚

`CopyPaste` ç±»å®ç°äº†å¤åˆ¶ç²˜è´´å¢å¼ºï¼Œé€šè¿‡å°†å›¾åƒä¸­çš„å®ä¾‹å¤åˆ¶åˆ°å…¶ä»–ä½ç½®æ¥ç”Ÿæˆæ–°çš„å›¾åƒã€‚

`Albumentations` ç±»å®ç°äº†ä¸€ç³»åˆ—å›¾åƒå¢å¼ºå˜æ¢ï¼Œä½¿ç”¨äº† Albumentations åº“ä¸­çš„åŠŸèƒ½ï¼Œå¦‚æ¨¡ç³Šã€å¯¹æ¯”åº¦é™åˆ¶è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡åŒ–ç­‰ã€‚

`Format` ç±»ç”¨äºæ ¼å¼åŒ–å›¾åƒæ³¨é‡Šï¼Œä»¥ä¾¿äºåœ¨ PyTorch çš„ DataLoader ä¸­ä½¿ç”¨ã€‚å®ƒå°†å›¾åƒå’Œå®ä¾‹çš„æ³¨é‡Šæ ‡å‡†åŒ–ï¼Œä»¥é€‚åº”æ¨¡å‹çš„è¾“å…¥è¦æ±‚ã€‚

æœ€åï¼Œæ–‡ä»¶ä¸­è¿˜å®šä¹‰äº†ä¸€äº›ç”¨äºè®­ç»ƒå’Œè¯„ä¼°çš„å˜æ¢å‡½æ•°ï¼Œå¦‚ `v8_transforms` å’Œ `classify_transforms`ï¼Œè¿™äº›å‡½æ•°æ ¹æ®è¾“å…¥å‚æ•°è¿”å›é€‚å½“çš„å˜æ¢ç»„åˆã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€ä¸ªçµæ´»ä¸”åŠŸèƒ½å¼ºå¤§çš„å›¾åƒå¢å¼ºæ¡†æ¶ï¼Œé€‚ç”¨äº YOLO æ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†ï¼Œæ—¨åœ¨æé«˜æ¨¡å‹çš„æ€§èƒ½å’Œé€‚åº”æ€§ã€‚

#### 11.2 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨ streamlit è¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    # æ£€æŸ¥å‘½ä»¤æ‰§è¡Œç»“æœï¼Œå¦‚æœè¿”å›ç ä¸ä¸º0ï¼Œåˆ™è¡¨ç¤ºå‡ºé”™
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")

# ä¸»ç¨‹åºå…¥å£
if __name__ == "__main__":
    # æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå¯ä»¥æ›¿æ¢ä¸ºå®é™…çš„è„šæœ¬è·¯å¾„

    # è°ƒç”¨å‡½æ•°è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†åŠæ³¨é‡Šè¯´æ˜ï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`ï¼šç”¨äºè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ã€‚
   - `subprocess`ï¼šç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

2. **å®šä¹‰ `run_script` å‡½æ•°**ï¼š
   - æ­¤å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„ Python è„šæœ¬çš„è·¯å¾„ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä»¥ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ Python ç¯å¢ƒã€‚
   - æ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œæ„å»ºçš„å‘½ä»¤ï¼Œå¹¶æ£€æŸ¥è¿”å›ç ä»¥åˆ¤æ–­è„šæœ¬æ˜¯å¦æˆåŠŸè¿è¡Œã€‚

3. **ä¸»ç¨‹åºå…¥å£**ï¼š
   - åœ¨ `if __name__ == "__main__":` å—ä¸­ï¼ŒæŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼ˆæ­¤å¤„ä¸º `web.py`ï¼‰ã€‚
   - è°ƒç”¨ `run_script` å‡½æ•°ï¼Œä¼ å…¥è„šæœ¬è·¯å¾„ä»¥æ‰§è¡Œè¯¥è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶åä¸º `ui.py`ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯ä½¿ç”¨å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ˜¯é€šè¿‡ Streamlit æ¥å¯åŠ¨ä¸€ä¸ª Web åº”ç”¨ã€‚

ç¨‹åºé¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œä»¥åŠä¸€ä¸ªè‡ªå®šä¹‰çš„æ¨¡å— `QtFusion.path` ä¸­çš„ `abs_path` å‡½æ•°ã€‚`sys` æ¨¡å—ç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ï¼Œ`os` æ¨¡å—æä¾›äº†ä¸æ“ä½œç³»ç»Ÿäº¤äº’çš„åŠŸèƒ½ï¼Œè€Œ `subprocess` æ¨¡å—åˆ™ç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º `run_script` çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œé¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œå­˜å‚¨åœ¨ `python_path` å˜é‡ä¸­ã€‚ç„¶åï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit run` å‘½ä»¤æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚è¿™ä¸ªå‘½ä»¤ä¼šè¢«ä¼ é€’ç»™ `subprocess.run` å‡½æ•°æ¥æ‰§è¡Œã€‚

æ‰§è¡Œå‘½ä»¤åï¼Œç¨‹åºæ£€æŸ¥è¿”å›çš„ç»“æœç ã€‚å¦‚æœè¿”å›ç ä¸ä¸ºé›¶ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œæ­¤æ—¶ä¼šæ‰“å°å‡ºä¸€æ¡é”™è¯¯ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` è¯­å¥æ¥ç¡®ä¿å½“è„šæœ¬è¢«ç›´æ¥è¿è¡Œæ—¶ï¼Œä»¥ä¸‹ä»£ç å—æ‰ä¼šè¢«æ‰§è¡Œã€‚åœ¨è¿™ä¸ªä»£ç å—ä¸­ï¼Œé¦–å…ˆè°ƒç”¨ `abs_path` å‡½æ•°æ¥è·å– `web.py` è„šæœ¬çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ `script_path` å˜é‡ä¸­ã€‚æœ€åï¼Œè°ƒç”¨ `run_script` å‡½æ•°æ¥è¿è¡Œè¿™ä¸ªè„šæœ¬ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºçš„ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿åœ°é€šè¿‡ Streamlit å¯åŠ¨ä¸€ä¸ª Web åº”ç”¨ï¼Œç®€åŒ–äº†è„šæœ¬çš„è¿è¡Œè¿‡ç¨‹ã€‚

#### 11.3 ultralytics\nn\tasks.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å¹¶æ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦ä¿ç•™äº†æ¨¡å‹çš„åŸºæœ¬ç»“æ„å’ŒåŠŸèƒ½ï¼š

```python
import torch
import torch.nn as nn

class BaseModel(nn.Module):
    """BaseModelç±»æ˜¯Ultralytics YOLOç³»åˆ—æ¨¡å‹çš„åŸºç±»ã€‚"""

    def forward(self, x, *args, **kwargs):
        """
        æ¨¡å‹çš„å‰å‘ä¼ æ’­ï¼Œå¤„ç†è¾“å…¥æ•°æ®ã€‚

        Args:
            x (torch.Tensor | dict): è¾“å…¥å›¾åƒå¼ é‡æˆ–åŒ…å«å›¾åƒå¼ é‡å’ŒçœŸå®æ ‡ç­¾çš„å­—å…¸ã€‚

        Returns:
            (torch.Tensor): ç½‘ç»œçš„è¾“å‡ºã€‚
        """
        if isinstance(x, dict):  # å¦‚æœè¾“å…¥æ˜¯å­—å…¸ï¼Œè¿›è¡ŒæŸå¤±è®¡ç®—
            return self.loss(x, *args, **kwargs)
        return self.predict(x, *args, **kwargs)  # å¦åˆ™è¿›è¡Œé¢„æµ‹

    def predict(self, x, profile=False, visualize=False, augment=False, embed=None):
        """
        é€šè¿‡ç½‘ç»œè¿›è¡Œå‰å‘ä¼ æ’­ã€‚

        Args:
            x (torch.Tensor): è¾“å…¥å¼ é‡ã€‚
            profile (bool): å¦‚æœä¸ºTrueï¼Œæ‰“å°æ¯å±‚çš„è®¡ç®—æ—¶é—´ï¼Œé»˜è®¤ä¸ºFalseã€‚
            visualize (bool): å¦‚æœä¸ºTrueï¼Œä¿å­˜æ¨¡å‹çš„ç‰¹å¾å›¾ï¼Œé»˜è®¤ä¸ºFalseã€‚
            augment (bool): åœ¨é¢„æµ‹æ—¶è¿›è¡Œå›¾åƒå¢å¼ºï¼Œé»˜è®¤ä¸ºFalseã€‚
            embed (list, optional): è¦è¿”å›çš„ç‰¹å¾å‘é‡/åµŒå…¥çš„åˆ—è¡¨ã€‚

        Returns:
            (torch.Tensor): æ¨¡å‹çš„æœ€åè¾“å‡ºã€‚
        """
        if augment:
            return self._predict_augment(x)  # è¿›è¡Œå¢å¼ºé¢„æµ‹
        return self._predict_once(x, profile, visualize, embed)  # è¿›è¡Œä¸€æ¬¡é¢„æµ‹

    def _predict_once(self, x, profile=False, visualize=False, embed=None):
        """
        æ‰§è¡Œä¸€æ¬¡å‰å‘ä¼ æ’­ã€‚

        Args:
            x (torch.Tensor): è¾“å…¥å¼ é‡ã€‚
            profile (bool): å¦‚æœä¸ºTrueï¼Œæ‰“å°æ¯å±‚çš„è®¡ç®—æ—¶é—´ï¼Œé»˜è®¤ä¸ºFalseã€‚
            visualize (bool): å¦‚æœä¸ºTrueï¼Œä¿å­˜æ¨¡å‹çš„ç‰¹å¾å›¾ï¼Œé»˜è®¤ä¸ºFalseã€‚
            embed (list, optional): è¦è¿”å›çš„ç‰¹å¾å‘é‡/åµŒå…¥çš„åˆ—è¡¨ã€‚

        Returns:
            (torch.Tensor): æ¨¡å‹çš„æœ€åè¾“å‡ºã€‚
        """
        y = []  # è¾“å‡ºåˆ—è¡¨
        for m in self.model:  # éå†æ¨¡å‹çš„æ¯ä¸€å±‚
            if m.f != -1:  # å¦‚æœä¸æ˜¯æ¥è‡ªå‰ä¸€å±‚
                x = y[m.f] if isinstance(m.f, int) else [x if j == -1 else y[j] for j in m.f]  # ä»æ—©æœŸå±‚è·å–è¾“å…¥
            x = m(x)  # è¿è¡Œå½“å‰å±‚
            y.append(x if m.i in self.save else None)  # ä¿å­˜è¾“å‡º
        return x  # è¿”å›æœ€åçš„è¾“å‡º

    def loss(self, batch, preds=None):
        """
        è®¡ç®—æŸå¤±ã€‚

        Args:
            batch (dict): ç”¨äºè®¡ç®—æŸå¤±çš„æ‰¹æ¬¡æ•°æ®ã€‚
            preds (torch.Tensor | List[torch.Tensor]): é¢„æµ‹ç»“æœã€‚
        """
        if not hasattr(self, "criterion"):
            self.criterion = self.init_criterion()  # åˆå§‹åŒ–æŸå¤±å‡½æ•°

        preds = self.forward(batch["img"]) if preds is None else preds  # è·å–é¢„æµ‹ç»“æœ
        return self.criterion(preds, batch)  # è®¡ç®—æŸå¤±

    def init_criterion(self):
        """åˆå§‹åŒ–BaseModelçš„æŸå¤±æ ‡å‡†ã€‚"""
        raise NotImplementedError("compute_loss() needs to be implemented by task heads")


class DetectionModel(BaseModel):
    """YOLOv8æ£€æµ‹æ¨¡å‹ã€‚"""

    def __init__(self, cfg="yolov8n.yaml", ch=3, nc=None, verbose=True):
        """ä½¿ç”¨ç»™å®šçš„é…ç½®å’Œå‚æ•°åˆå§‹åŒ–YOLOv8æ£€æµ‹æ¨¡å‹ã€‚"""
        super().__init__()
        self.yaml = cfg  # é…ç½®å­—å…¸

        # å®šä¹‰æ¨¡å‹
        ch = self.yaml["ch"] = self.yaml.get("ch", ch)  # è¾“å…¥é€šé“
        self.model, self.save = parse_model(deepcopy(self.yaml), ch=ch, verbose=verbose)  # è§£ææ¨¡å‹ç»“æ„
        self.names = {i: f"{i}" for i in range(self.yaml["nc"])}  # é»˜è®¤åç§°å­—å…¸

    def init_criterion(self):
        """åˆå§‹åŒ–æ£€æµ‹æ¨¡å‹çš„æŸå¤±æ ‡å‡†ã€‚"""
        return v8DetectionLoss(self)  # è¿”å›YOLOv8æ£€æµ‹æŸå¤±
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **BaseModelç±»**ï¼šä½œä¸ºæ‰€æœ‰YOLOæ¨¡å‹çš„åŸºç±»ï¼Œå®šä¹‰äº†æ¨¡å‹çš„åŸºæœ¬ç»“æ„å’Œå‰å‘ä¼ æ’­æ–¹æ³•ã€‚
2. **forwardæ–¹æ³•**ï¼šå¤„ç†è¾“å…¥æ•°æ®ï¼Œå†³å®šæ˜¯è¿›è¡ŒæŸå¤±è®¡ç®—è¿˜æ˜¯é¢„æµ‹ã€‚
3. **predictæ–¹æ³•**ï¼šè¿›è¡Œå‰å‘ä¼ æ’­ï¼Œå¯ä»¥é€‰æ‹©è¿›è¡Œæ•°æ®å¢å¼ºã€‚
4. **_predict_onceæ–¹æ³•**ï¼šå®ç°ä¸€æ¬¡å‰å‘ä¼ æ’­ï¼Œéå†æ¨¡å‹çš„æ¯ä¸€å±‚ï¼Œæ‰§è¡Œè®¡ç®—å¹¶ä¿å­˜è¾“å‡ºã€‚
5. **lossæ–¹æ³•**ï¼šè®¡ç®—æ¨¡å‹çš„æŸå¤±ï¼Œè°ƒç”¨æŸå¤±æ ‡å‡†ã€‚
6. **DetectionModelç±»**ï¼šç»§æ‰¿è‡ªBaseModelï¼Œä¸“é—¨ç”¨äºYOLOv8çš„æ£€æµ‹ä»»åŠ¡ï¼Œåˆå§‹åŒ–æ—¶è§£ææ¨¡å‹é…ç½®å¹¶å®šä¹‰æŸå¤±æ ‡å‡†ã€‚

é€šè¿‡è¿™äº›æ³¨é‡Šï¼Œå¯ä»¥æ›´å¥½åœ°ç†è§£ä»£ç çš„ç»“æ„å’ŒåŠŸèƒ½ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `ultralytics/nn/tasks.py` æ˜¯ Ultralytics YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹çš„æ ¸å¿ƒå®ç°éƒ¨åˆ†ï¼Œä¸»è¦è´Ÿè´£æ¨¡å‹çš„å®šä¹‰ã€è®­ç»ƒå’Œæ¨ç†ç­‰åŠŸèƒ½ã€‚æ–‡ä»¶ä¸­åŒ…å«å¤šä¸ªç±»å’Œå‡½æ•°ï¼Œæ„æˆäº†ä¸€ä¸ªå®Œæ•´çš„æ·±åº¦å­¦ä¹ æ¨¡å‹æ¡†æ¶ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸€äº›å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬ PyTorch å’Œä¸€äº›è‡ªå®šä¹‰çš„æ¨¡å—ã€‚`BaseModel` ç±»æ˜¯æ‰€æœ‰æ¨¡å‹çš„åŸºç±»ï¼Œå®šä¹‰äº†æ¨¡å‹çš„å‰å‘ä¼ æ’­æ–¹æ³• `forward`ï¼Œå¹¶æ ¹æ®è¾“å…¥çš„ç±»å‹ï¼ˆå›¾åƒæˆ–å­—å…¸ï¼‰é€‰æ‹©è°ƒç”¨æŸå¤±è®¡ç®—æˆ–é¢„æµ‹æ–¹æ³•ã€‚`predict` æ–¹æ³•æ‰§è¡Œå‰å‘ä¼ æ’­ï¼Œå¹¶æ”¯æŒç‰¹å¾å¯è§†åŒ–å’Œæ€§èƒ½åˆ†æã€‚

åœ¨ `BaseModel` ä¸­ï¼Œæ¨¡å‹çš„å‰å‘ä¼ æ’­è¢«ç»†åˆ†ä¸ºå¤šä¸ªæ–¹æ³•ï¼Œä¾‹å¦‚ `_predict_once` å’Œ `_predict_augment`ï¼Œå‰è€…ç”¨äºå•æ¬¡æ¨ç†ï¼Œåè€…ç”¨äºå›¾åƒå¢å¼ºæ¨ç†ã€‚`fuse` æ–¹æ³•ç”¨äºå°†å·ç§¯å±‚å’Œæ‰¹å½’ä¸€åŒ–å±‚èåˆï¼Œä»¥æé«˜è®¡ç®—æ•ˆç‡ã€‚

æ¥ä¸‹æ¥ï¼Œ`DetectionModel` ç±»ç»§æ‰¿è‡ª `BaseModel`ï¼Œä¸“é—¨ç”¨äºç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚å®ƒçš„æ„é€ å‡½æ•°åˆå§‹åŒ–æ¨¡å‹çš„é…ç½®ï¼ŒåŒ…æ‹¬è¾“å…¥é€šé“æ•°å’Œç±»åˆ«æ•°ï¼Œå¹¶è§£ææ¨¡å‹ç»“æ„ã€‚`init_criterion` æ–¹æ³•ç”¨äºåˆå§‹åŒ–æŸå¤±å‡½æ•°ï¼Œ`_predict_augment` æ–¹æ³•å®ç°äº†å¯¹è¾“å…¥å›¾åƒçš„å¤šå°ºåº¦å¢å¼ºæ¨ç†ã€‚

æ­¤å¤–ï¼Œæ–‡ä»¶ä¸­è¿˜å®šä¹‰äº†å¤šä¸ªç‰¹å®šç±»å‹çš„æ¨¡å‹ç±»ï¼Œä¾‹å¦‚ `OBBModel`ï¼ˆç”¨äºå®šå‘è¾¹ç•Œæ¡†æ£€æµ‹ï¼‰ã€`SegmentationModel`ï¼ˆç”¨äºå›¾åƒåˆ†å‰²ï¼‰ã€`PoseModel`ï¼ˆç”¨äºå§¿æ€ä¼°è®¡ï¼‰å’Œ `ClassificationModel`ï¼ˆç”¨äºåˆ†ç±»ä»»åŠ¡ï¼‰ã€‚è¿™äº›ç±»å‡ç»§æ‰¿è‡ª `DetectionModel` æˆ– `BaseModel`ï¼Œå¹¶å®ç°äº†å„è‡ªç‰¹å®šçš„æŸå¤±å‡½æ•°åˆå§‹åŒ–ã€‚

`Ensemble` ç±»ç”¨äºæ¨¡å‹çš„é›†æˆï¼Œèƒ½å¤Ÿå°†å¤šä¸ªæ¨¡å‹çš„è¾“å‡ºç»“åˆèµ·æ¥ï¼Œä»¥æé«˜é¢„æµ‹çš„å‡†ç¡®æ€§ã€‚æ–‡ä»¶è¿˜åŒ…å«äº†ä¸€äº›å®ç”¨çš„å‡½æ•°ï¼Œä¾‹å¦‚ `torch_safe_load` ç”¨äºå®‰å…¨åŠ è½½æ¨¡å‹æƒé‡ï¼Œ`attempt_load_weights` å’Œ `attempt_load_one_weight` ç”¨äºåŠ è½½å•ä¸ªæˆ–å¤šä¸ªæ¨¡å‹çš„æƒé‡ã€‚

æœ€åï¼Œæ–‡ä»¶æä¾›äº†ä¸€äº›è¾…åŠ©å‡½æ•°ï¼Œå¦‚ `parse_model` ç”¨äºè§£ææ¨¡å‹çš„ YAML é…ç½®æ–‡ä»¶ï¼Œ`yaml_model_load` ç”¨äºåŠ è½½æ¨¡å‹é…ç½®ï¼Œ`guess_model_scale` å’Œ `guess_model_task` ç”¨äºæ¨æµ‹æ¨¡å‹çš„è§„æ¨¡å’Œä»»åŠ¡ç±»å‹ã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ–‡ä»¶æ„å»ºäº†ä¸€ä¸ªçµæ´»ä¸”å¼ºå¤§çš„æ¡†æ¶ï¼Œæ”¯æŒå¤šç§è®¡ç®—æœºè§†è§‰ä»»åŠ¡ï¼Œå¹¶é€šè¿‡æ¨¡å—åŒ–è®¾è®¡ä¾¿äºæ‰©å±•å’Œç»´æŠ¤ã€‚

#### 11.4 train.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import os
import torch
import yaml
from ultralytics import YOLO  # å¯¼å…¥YOLOæ¨¡å‹åº“
from QtFusion.path import abs_path  # å¯¼å…¥è·¯å¾„å¤„ç†å‡½æ•°

# è®¾ç½®è®¾å¤‡ä¸ºGPUï¼ˆå¦‚æœå¯ç”¨ï¼‰ï¼Œå¦åˆ™ä½¿ç”¨CPU
device = "0" if torch.cuda.is_available() else "cpu"

if __name__ == '__main__':  # ç¡®ä¿è¯¥æ¨¡å—è¢«ç›´æ¥è¿è¡Œæ—¶æ‰æ‰§è¡Œä»¥ä¸‹ä»£ç 
    workers = 1  # è®¾ç½®æ•°æ®åŠ è½½çš„å·¥ä½œè¿›ç¨‹æ•°é‡
    batch = 2  # è®¾ç½®æ¯ä¸ªæ‰¹æ¬¡çš„å¤§å°

    data_name = "data"  # æ•°æ®é›†åç§°
    # è·å–æ•°æ®é›†é…ç½®æ–‡ä»¶çš„ç»å¯¹è·¯å¾„
    data_path = abs_path(f'datasets/{data_name}/{data_name}.yaml', path_type='current')  
    unix_style_path = data_path.replace(os.sep, '/')  # å°†è·¯å¾„è½¬æ¢ä¸ºUnixé£æ ¼

    # è·å–æ•°æ®é›†ç›®å½•è·¯å¾„
    directory_path = os.path.dirname(unix_style_path)
    
    # è¯»å–YAMLæ–‡ä»¶ï¼Œä¿æŒåŸæœ‰é¡ºåº
    with open(data_path, 'r') as file:
        data = yaml.load(file, Loader=yaml.FullLoader)
    
    # å¦‚æœYAMLæ–‡ä»¶ä¸­æœ‰'path'é¡¹ï¼Œåˆ™ä¿®æ”¹ä¸ºå½“å‰ç›®å½•è·¯å¾„
    if 'path' in data:
        data['path'] = directory_path
        # å°†ä¿®æ”¹åçš„æ•°æ®å†™å›YAMLæ–‡ä»¶
        with open(data_path, 'w') as file:
            yaml.safe_dump(data, file, sort_keys=False)

    # åŠ è½½é¢„è®­ç»ƒçš„YOLOv8æ¨¡å‹
    model = YOLO(model='./ultralytics/cfg/models/v8/yolov8s.yaml', task='detect')  
    
    # å¼€å§‹è®­ç»ƒæ¨¡å‹
    results2 = model.train(  
        data=data_path,  # æŒ‡å®šè®­ç»ƒæ•°æ®çš„é…ç½®æ–‡ä»¶è·¯å¾„
        device=device,  # æŒ‡å®šä½¿ç”¨çš„è®¾å¤‡ï¼ˆGPUæˆ–CPUï¼‰
        workers=workers,  # æŒ‡å®šä½¿ç”¨çš„å·¥ä½œè¿›ç¨‹æ•°é‡
        imgsz=640,  # æŒ‡å®šè¾“å…¥å›¾åƒçš„å¤§å°ä¸º640x640
        epochs=100,  # æŒ‡å®šè®­ç»ƒçš„è½®æ•°ä¸º100
        batch=batch,  # æŒ‡å®šæ¯ä¸ªæ‰¹æ¬¡çš„å¤§å°
        name='train_v8_' + data_name  # æŒ‡å®šè®­ç»ƒä»»åŠ¡çš„åç§°
    )
```

### ä»£ç è¯´æ˜ï¼š
1. **å¯¼å…¥å¿…è¦çš„åº“**ï¼šå¯¼å…¥æ“ä½œç³»ç»Ÿã€PyTorchã€YAMLå¤„ç†åº“å’ŒYOLOæ¨¡å‹åº“ã€‚
2. **è®¾å¤‡é€‰æ‹©**ï¼šæ ¹æ®æ˜¯å¦æœ‰å¯ç”¨çš„GPUæ¥é€‰æ‹©è®­ç»ƒè®¾å¤‡ã€‚
3. **æ•°æ®é›†è·¯å¾„å¤„ç†**ï¼šé€šè¿‡æŒ‡å®šçš„æ•°æ®é›†åç§°æ„å»ºYAMLé…ç½®æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºUnixé£æ ¼çš„è·¯å¾„ã€‚
4. **è¯»å–å’Œä¿®æ”¹YAMLæ–‡ä»¶**ï¼šè¯»å–æ•°æ®é›†çš„YAMLæ–‡ä»¶ï¼Œä¿®æ”¹å…¶ä¸­çš„`path`é¡¹ä¸ºå½“å‰ç›®å½•è·¯å¾„ï¼Œå¹¶å°†ä¿®æ”¹åçš„å†…å®¹å†™å›æ–‡ä»¶ã€‚
5. **æ¨¡å‹åŠ è½½**ï¼šåŠ è½½YOLOv8çš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œå‡†å¤‡è¿›è¡Œç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚
6. **æ¨¡å‹è®­ç»ƒ**ï¼šä½¿ç”¨æŒ‡å®šçš„å‚æ•°å¼€å§‹è®­ç»ƒæ¨¡å‹ï¼ŒåŒ…æ‹¬æ•°æ®è·¯å¾„ã€è®¾å¤‡ã€å·¥ä½œè¿›ç¨‹æ•°é‡ã€å›¾åƒå¤§å°ã€è®­ç»ƒè½®æ•°å’Œæ‰¹æ¬¡å¤§å°ç­‰ã€‚

è¯¥ç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒ YOLOv8 æ¨¡å‹çš„è„šæœ¬ã€‚é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬ `os`ã€`torch`ã€`yaml` å’Œ `ultralytics` ä¸­çš„ YOLO æ¨¡å‹ã€‚æ¥ç€ï¼Œç¨‹åºæ£€æŸ¥æ˜¯å¦æœ‰å¯ç”¨çš„ GPUï¼Œå¦‚æœæœ‰ï¼Œåˆ™å°†è®¾å¤‡è®¾ç½®ä¸º "0"ï¼ˆè¡¨ç¤ºä½¿ç”¨ç¬¬ä¸€ä¸ª GPUï¼‰ï¼Œå¦åˆ™ä½¿ç”¨ CPUã€‚

åœ¨ `if __name__ == '__main__':` è¯­å¥ä¸‹ï¼Œç¨‹åºç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚é¦–å…ˆå®šä¹‰äº†å·¥ä½œè¿›ç¨‹æ•°é‡ `workers` å’Œæ‰¹æ¬¡å¤§å° `batch`ï¼Œå¹¶æŒ‡å®šäº†æ•°æ®é›†çš„åç§°ä¸º "data"ã€‚æ¥ç€ï¼Œç¨‹åºæ„å»ºäº†æ•°æ®é›† YAML æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶å°†è·¯å¾„ä¸­çš„åˆ†éš”ç¬¦ç»Ÿä¸€ä¸º Unix é£æ ¼ã€‚

ç¨‹åºè·å–äº†æ•°æ®é›†ç›®å½•çš„è·¯å¾„ï¼Œå¹¶æ‰“å¼€æŒ‡å®šçš„ YAML æ–‡ä»¶ä»¥è¯»å–æ•°æ®ã€‚è¯»å–åï¼Œç¨‹åºæ£€æŸ¥ YAML æ•°æ®ä¸­æ˜¯å¦åŒ…å« `path` é¡¹ï¼Œå¦‚æœæœ‰ï¼Œåˆ™å°†å…¶ä¿®æ”¹ä¸ºå½“å‰ç›®å½•è·¯å¾„ï¼Œå¹¶å°†æ›´æ–°åçš„æ•°æ®å†™å›åˆ° YAML æ–‡ä»¶ä¸­ã€‚

æ¥ä¸‹æ¥ï¼Œç¨‹åºåŠ è½½äº†é¢„è®­ç»ƒçš„ YOLOv8 æ¨¡å‹ï¼ŒæŒ‡å®šäº†æ¨¡å‹çš„é…ç½®æ–‡ä»¶ã€‚ç„¶åï¼Œè°ƒç”¨ `model.train()` æ–¹æ³•å¼€å§‹è®­ç»ƒæ¨¡å‹ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œç¨‹åºæŒ‡å®šäº†è®­ç»ƒæ•°æ®çš„é…ç½®æ–‡ä»¶è·¯å¾„ã€è®¾å¤‡ã€å·¥ä½œè¿›ç¨‹æ•°é‡ã€è¾“å…¥å›¾åƒçš„å¤§å°ï¼ˆ640x640ï¼‰ã€è®­ç»ƒçš„ epoch æ•°é‡ï¼ˆ100ï¼‰ä»¥åŠè®­ç»ƒä»»åŠ¡çš„åç§°ï¼ˆä»¥ "train_v8_" å¼€å¤´ï¼Œåæ¥æ•°æ®é›†åç§°ï¼‰ã€‚

æ€»çš„æ¥è¯´ï¼Œè¯¥è„šæœ¬çš„ä¸»è¦åŠŸèƒ½æ˜¯è®¾ç½®å’Œå¯åŠ¨ YOLOv8 æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼Œç¡®ä¿æ•°æ®é›†è·¯å¾„æ­£ç¡®ï¼Œå¹¶æ ¹æ®ç”¨æˆ·çš„é…ç½®è¿›è¡Œè®­ç»ƒã€‚

#### 11.5 ultralytics\engine\__init__.py

ä»¥ä¸‹æ˜¯ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license

# è¯¥è¡Œæ˜¯å¯¹Ultralytics YOLOæ¨¡å‹çš„ç‰ˆæƒå£°æ˜ï¼Œè¡¨ç¤ºè¯¥ä»£ç éµå¾ªAGPL-3.0è®¸å¯è¯ã€‚
# YOLOï¼ˆYou Only Look Onceï¼‰æ˜¯ä¸€ç§ç”¨äºç›®æ ‡æ£€æµ‹çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚
```

åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæ ¸å¿ƒå†…å®¹æ˜¯ç‰ˆæƒå£°æ˜å’Œè®¸å¯è¯ä¿¡æ¯ã€‚YOLOæ¨¡å‹æ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„ç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œé€‚ç”¨äºå®æ—¶ç‰©ä½“æ£€æµ‹ä»»åŠ¡ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶çš„æ–‡ä»¶åæ˜¯ `ultralytics\engine\__init__.py`ï¼Œå®ƒæ˜¯ä¸€ä¸ª Python åŒ…çš„åˆå§‹åŒ–æ–‡ä»¶ã€‚æ ¹æ®æ–‡ä»¶åä¸­çš„â€œUltralytics YOLOâ€å¯ä»¥æ¨æµ‹ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ä¸ Ultralytics å¼€å‘çš„ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹ç›¸å…³çš„ã€‚

æ–‡ä»¶å¼€å¤´çš„æ³¨é‡Š `# Ultralytics YOLO ğŸš€, AGPL-3.0 license` è¡¨æ˜è¯¥é¡¹ç›®æ˜¯ç”± Ultralytics å¼€å‘çš„ï¼Œå¹¶ä¸”ä½¿ç”¨ AGPL-3.0 è®¸å¯è¯ã€‚è¿™æ„å‘³ç€è¯¥ä»£ç æ˜¯å¼€æºçš„ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ï¼Œä½†åœ¨åˆ†å‘ä¿®æ”¹åçš„ç‰ˆæœ¬æ—¶ï¼Œå¿…é¡»ä¿æŒç›¸åŒçš„è®¸å¯è¯ã€‚

åœ¨ Python ä¸­ï¼Œ`__init__.py` æ–‡ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯å°†åŒ…å«è¯¥æ–‡ä»¶çš„ç›®å½•æ ‡è¯†ä¸ºä¸€ä¸ªåŒ…ï¼Œä½¿å¾—å¯ä»¥é€šè¿‡ `import` è¯­å¥å¯¼å…¥è¯¥ç›®å½•ä¸­çš„æ¨¡å—ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥æ˜¯ç©ºçš„ï¼Œä½†å®ƒä¹Ÿå¯ä»¥åŒ…å«åŒ…çš„åˆå§‹åŒ–ä»£ç ã€å¯¼å…¥å…¶ä»–æ¨¡å—æˆ–å®šä¹‰åŒ…çº§åˆ«çš„å˜é‡å’Œå‡½æ•°ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ Ultralytics YOLO é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºåˆå§‹åŒ–è¯¥é¡¹ç›®çš„åŒ…ç»“æ„ï¼Œå¹¶éµå¾ªå¼€æºè®¸å¯è¯çš„è§„å®šã€‚å…·ä½“çš„å®ç°ç»†èŠ‚å’ŒåŠŸèƒ½å¯èƒ½éœ€è¦æŸ¥çœ‹è¯¥æ–‡ä»¶çš„å…¶ä»–éƒ¨åˆ†æˆ–ç›¸å…³çš„æ¨¡å—ä»£ç ã€‚

#### 11.6 ultralytics\trackers\bot_sort.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
class BOTrack(STrack):
    """
    BOTrackç±»æ˜¯YOLOv8ä¸­STrackç±»çš„æ‰©å±•ç‰ˆæœ¬ï¼Œå¢åŠ äº†å¯¹è±¡è·Ÿè¸ªåŠŸèƒ½ã€‚
    """

    shared_kalman = KalmanFilterXYWH()  # æ‰€æœ‰BOTrackå®ä¾‹å…±äº«çš„å¡å°”æ›¼æ»¤æ³¢å™¨

    def __init__(self, tlwh, score, cls, feat=None, feat_history=50):
        """åˆå§‹åŒ–BOTrackå¯¹è±¡ï¼Œè®¾ç½®ç‰¹å¾å†å²ã€å¹³æ»‘å› å­å’Œå½“å‰ç‰¹å¾ã€‚"""
        super().__init__(tlwh, score, cls)  # è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°

        self.smooth_feat = None  # å¹³æ»‘ç‰¹å¾å‘é‡
        self.curr_feat = None  # å½“å‰ç‰¹å¾å‘é‡
        if feat is not None:
            self.update_features(feat)  # æ›´æ–°ç‰¹å¾
        self.features = deque([], maxlen=feat_history)  # å­˜å‚¨ç‰¹å¾å‘é‡çš„åŒç«¯é˜Ÿåˆ—
        self.alpha = 0.9  # æŒ‡æ•°ç§»åŠ¨å¹³å‡çš„å¹³æ»‘å› å­

    def update_features(self, feat):
        """æ›´æ–°ç‰¹å¾å‘é‡ï¼Œå¹¶ä½¿ç”¨æŒ‡æ•°ç§»åŠ¨å¹³å‡è¿›è¡Œå¹³æ»‘å¤„ç†ã€‚"""
        feat /= np.linalg.norm(feat)  # å½’ä¸€åŒ–ç‰¹å¾å‘é‡
        self.curr_feat = feat  # æ›´æ–°å½“å‰ç‰¹å¾
        if self.smooth_feat is None:
            self.smooth_feat = feat  # å¦‚æœå¹³æ»‘ç‰¹å¾ä¸ºç©ºï¼Œåˆ™ç›´æ¥èµ‹å€¼
        else:
            # ä½¿ç”¨æŒ‡æ•°ç§»åŠ¨å¹³å‡æ›´æ–°å¹³æ»‘ç‰¹å¾
            self.smooth_feat = self.alpha * self.smooth_feat + (1 - self.alpha) * feat
        self.features.append(feat)  # å°†å½“å‰ç‰¹å¾æ·»åŠ åˆ°ç‰¹å¾é˜Ÿåˆ—
        self.smooth_feat /= np.linalg.norm(self.smooth_feat)  # å½’ä¸€åŒ–å¹³æ»‘ç‰¹å¾

    def predict(self):
        """ä½¿ç”¨å¡å°”æ›¼æ»¤æ³¢å™¨é¢„æµ‹å‡å€¼å’Œåæ–¹å·®ã€‚"""
        mean_state = self.mean.copy()  # å¤åˆ¶å½“å‰å‡å€¼çŠ¶æ€
        if self.state != TrackState.Tracked:
            mean_state[6] = 0  # å¦‚æœçŠ¶æ€ä¸æ˜¯è¢«è·Ÿè¸ªï¼Œåˆ™å°†é€Ÿåº¦è®¾ä¸º0
            mean_state[7] = 0

        # ä½¿ç”¨å¡å°”æ›¼æ»¤æ³¢å™¨è¿›è¡Œé¢„æµ‹
        self.mean, self.covariance = self.kalman_filter.predict(mean_state, self.covariance)

    @property
    def tlwh(self):
        """è·å–å½“å‰è¾¹ç•Œæ¡†ä½ç½®ï¼Œæ ¼å¼ä¸º(å·¦ä¸Šè§’x, å·¦ä¸Šè§’y, å®½åº¦, é«˜åº¦)ã€‚"""
        if self.mean is None:
            return self._tlwh.copy()  # å¦‚æœå‡å€¼ä¸ºç©ºï¼Œè¿”å›åˆå§‹è¾¹ç•Œæ¡†
        ret = self.mean[:4].copy()  # å¤åˆ¶å‡å€¼çš„å‰å››ä¸ªå…ƒç´ 
        ret[:2] -= ret[2:] / 2  # è®¡ç®—å·¦ä¸Šè§’åæ ‡
        return ret

class BOTSORT(BYTETracker):
    """
    BOTSORTç±»æ˜¯BYTETrackerç±»çš„æ‰©å±•ç‰ˆæœ¬ï¼Œè®¾è®¡ç”¨äºYOLOv8çš„å¯¹è±¡è·Ÿè¸ªï¼Œæ”¯æŒReIDå’ŒGMCç®—æ³•ã€‚
    """

    def __init__(self, args, frame_rate=30):
        """åˆå§‹åŒ–BOTSORTå¯¹è±¡ï¼Œè®¾ç½®ReIDæ¨¡å—å’ŒGMCç®—æ³•ã€‚"""
        super().__init__(args, frame_rate)  # è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°
        self.proximity_thresh = args.proximity_thresh  # ç©ºé—´æ¥è¿‘é˜ˆå€¼
        self.appearance_thresh = args.appearance_thresh  # å¤–è§‚ç›¸ä¼¼æ€§é˜ˆå€¼

        if args.with_reid:
            self.encoder = None  # å¦‚æœå¯ç”¨ReIDï¼Œåˆ™è®¾ç½®ç¼–ç å™¨ä¸ºNone
        self.gmc = GMC(method=args.gmc_method)  # åˆå§‹åŒ–GMCç®—æ³•

    def init_track(self, dets, scores, cls, img=None):
        """ä½¿ç”¨æ£€æµ‹ç»“æœã€åˆ†æ•°å’Œç±»åˆ«åˆå§‹åŒ–è·Ÿè¸ªã€‚"""
        if len(dets) == 0:
            return []  # å¦‚æœæ²¡æœ‰æ£€æµ‹ç»“æœï¼Œè¿”å›ç©ºåˆ—è¡¨
        if self.args.with_reid and self.encoder is not None:
            features_keep = self.encoder.inference(img, dets)  # è¿›è¡ŒReIDç‰¹å¾æå–
            return [BOTrack(xyxy, s, c, f) for (xyxy, s, c, f) in zip(dets, scores, cls, features_keep)]  # è¿”å›BOTrackå®ä¾‹
        else:
            return [BOTrack(xyxy, s, c) for (xyxy, s, c) in zip(dets, scores, cls)]  # è¿”å›BOTrackå®ä¾‹

    def multi_predict(self, tracks):
        """ä½¿ç”¨YOLOv8æ¨¡å‹é¢„æµ‹å’Œè·Ÿè¸ªå¤šä¸ªå¯¹è±¡ã€‚"""
        BOTrack.multi_predict(tracks)  # è°ƒç”¨BOTrackçš„å¤šé‡é¢„æµ‹æ–¹æ³•
```

ä»¥ä¸Šä»£ç ç‰‡æ®µåŒ…å«äº†BOTrackå’ŒBOTSORTç±»çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œæä¾›äº†å¯¹è±¡è·Ÿè¸ªçš„åŸºæœ¬åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç‰¹å¾æ›´æ–°ã€é¢„æµ‹å’Œåˆå§‹åŒ–è·Ÿè¸ªç­‰ã€‚æ¯ä¸ªæ–¹æ³•å’Œå±æ€§éƒ½æœ‰è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼Œå¸®åŠ©ç†è§£å…¶åŠŸèƒ½å’Œç”¨é€”ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `bot_sort.py` æ˜¯ç”¨äºå¯¹è±¡è·Ÿè¸ªçš„å®ç°ï¼Œç‰¹åˆ«æ˜¯ä¸ YOLOv8 ç›®æ ‡æ£€æµ‹æ¨¡å‹ç»“åˆä½¿ç”¨çš„ BOTracker å’Œ BOTSORT ç±»ã€‚ç¨‹åºä¸»è¦å®ç°äº†åŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡è·Ÿè¸ªåŠŸèƒ½ï¼Œåˆ©ç”¨å¡å°”æ›¼æ»¤æ³¢å™¨å’Œ ReIDï¼ˆé‡è¯†åˆ«ï¼‰æŠ€æœ¯æ¥æé«˜è·Ÿè¸ªçš„å‡†ç¡®æ€§å’Œé²æ£’æ€§ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ª `BOTrack` ç±»ï¼Œå®ƒæ˜¯ `STrack` ç±»çš„æ‰©å±•ï¼Œå¢åŠ äº†å¯¹è±¡è·Ÿè¸ªçš„ç‰¹æ€§ã€‚è¯¥ç±»çš„ä¸»è¦å±æ€§åŒ…æ‹¬ä¸€ä¸ªå…±äº«çš„å¡å°”æ›¼æ»¤æ³¢å™¨ã€å¹³æ»‘çš„ç‰¹å¾å‘é‡ã€å½“å‰ç‰¹å¾å‘é‡ã€ç”¨äºå­˜å‚¨ç‰¹å¾å‘é‡çš„åŒç«¯é˜Ÿåˆ—ã€å¹³æ»‘å› å­å’Œå¡å°”æ›¼æ»¤æ³¢å™¨çš„å‡å€¼ä¸åæ–¹å·®çŸ©é˜µã€‚`BOTrack` ç±»æä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥æ›´æ–°ç‰¹å¾ã€é¢„æµ‹çŠ¶æ€ã€é‡æ–°æ¿€æ´»è·Ÿè¸ªã€æ›´æ–°è·Ÿè¸ªä¿¡æ¯ç­‰ã€‚ç‰¹åˆ«åœ°ï¼Œ`update_features` æ–¹æ³•ä½¿ç”¨æŒ‡æ•°ç§»åŠ¨å¹³å‡æ¥å¹³æ»‘ç‰¹å¾å‘é‡ï¼Œ`predict` æ–¹æ³•åˆ©ç”¨å¡å°”æ›¼æ»¤æ³¢å™¨é¢„æµ‹å¯¹è±¡çš„çŠ¶æ€ã€‚

æ¥ä¸‹æ¥ï¼Œ`BOTSORT` ç±»æ˜¯å¯¹ `BYTETracker` ç±»çš„æ‰©å±•ï¼Œä¸“é—¨ä¸º YOLOv8 è®¾è®¡ï¼Œæ”¯æŒå¯¹è±¡è·Ÿè¸ªã€ReID å’Œ GMCï¼ˆå…¨å±€è¿åŠ¨è¡¥å¿ï¼‰ç®—æ³•ã€‚è¯¥ç±»çš„å±æ€§åŒ…æ‹¬ç©ºé—´æ¥è¿‘é˜ˆå€¼ã€å¤–è§‚ç›¸ä¼¼æ€§é˜ˆå€¼ã€ReID åµŒå…¥å¤„ç†å¯¹è±¡ã€GMC å®ä¾‹ä»¥åŠè§£æçš„å‘½ä»¤è¡Œå‚æ•°ã€‚`BOTSORT` ç±»æä¾›äº†åˆå§‹åŒ–è·Ÿè¸ªã€è·å–è·ç¦»ã€é¢„æµ‹å¤šä¸ªå¯¹è±¡ç­‰æ–¹æ³•ã€‚`init_track` æ–¹æ³•æ ¹æ®æ£€æµ‹ç»“æœåˆå§‹åŒ–è·Ÿè¸ªï¼Œ`get_dists` æ–¹æ³•è®¡ç®—è·Ÿè¸ªä¸æ£€æµ‹ä¹‹é—´çš„è·ç¦»ï¼Œç»“åˆäº† IoU å’Œ ReID åµŒå…¥ã€‚

æ•´ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº†ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡è·Ÿè¸ªç³»ç»Ÿï¼Œç»“åˆäº†ç°ä»£è®¡ç®—æœºè§†è§‰æŠ€æœ¯ï¼Œé€šè¿‡å¡å°”æ›¼æ»¤æ³¢å™¨å’Œæ·±åº¦å­¦ä¹ ç‰¹å¾æ¥æé«˜è·Ÿè¸ªçš„ç²¾åº¦å’Œç¨³å®šæ€§ã€‚ä½¿ç”¨æ—¶ï¼Œç”¨æˆ·å¯ä»¥åˆ›å»º `BOTSORT` å®ä¾‹ï¼Œè°ƒç”¨åˆå§‹åŒ–å’Œé¢„æµ‹æ–¹æ³•æ¥è¿›è¡Œç›®æ ‡è·Ÿè¸ªã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### ç¨‹åºæ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥ç¨‹åºæ˜¯ä¸€ä¸ªå®Œæ•´çš„è®¡ç®—æœºè§†è§‰æ¡†æ¶ï¼Œä¸»è¦ç”¨äºç›®æ ‡æ£€æµ‹å’Œè·Ÿè¸ªï¼Œç‰¹åˆ«æ˜¯åŸºäº YOLOï¼ˆYou Only Look Onceï¼‰æ¨¡å‹çš„å®ç°ã€‚ç¨‹åºçš„æ•´ä½“æ¶æ„ç”±å¤šä¸ªæ¨¡å—ç»„æˆï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ•°æ®å¢å¼ºã€æ¨¡å‹è®­ç»ƒã€æ¨ç†ã€å¯¹è±¡è·Ÿè¸ªç­‰ã€‚é€šè¿‡æ¨¡å—åŒ–è®¾è®¡ï¼Œç”¨æˆ·å¯ä»¥çµæ´»åœ°ä½¿ç”¨å’Œæ‰©å±•å„ä¸ªåŠŸèƒ½æ¨¡å—ã€‚

- **æ•°æ®å¢å¼º**ï¼š`ultralytics\data\augment.py` æä¾›äº†å¤šç§å›¾åƒå¢å¼ºæŠ€æœ¯ï¼Œä»¥æé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚
- **ç”¨æˆ·ç•Œé¢**ï¼š`ui.py` è´Ÿè´£å¯åŠ¨ä¸€ä¸ªåŸºäº Streamlit çš„ Web åº”ç”¨ï¼Œä¾¿äºç”¨æˆ·ä¸æ¨¡å‹è¿›è¡Œäº¤äº’ã€‚
- **æ¨¡å‹å®šä¹‰ä¸è®­ç»ƒ**ï¼š`ultralytics\nn\tasks.py` å’Œ `train.py` è´Ÿè´£æ¨¡å‹çš„å®šä¹‰ã€è®­ç»ƒè¿‡ç¨‹çš„è®¾ç½®å’Œæ‰§è¡Œã€‚
- **åŒ…åˆå§‹åŒ–**ï¼š`ultralytics\engine\__init__.py` ç”¨äºåˆå§‹åŒ–åŒ…ç»“æ„ã€‚
- **å¯¹è±¡è·Ÿè¸ª**ï¼š`ultralytics\trackers\bot_sort.py` å®ç°äº†åŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡è·Ÿè¸ªåŠŸèƒ½ã€‚
- **å…¶ä»–æ¨¡å—**ï¼šå…¶ä»–æ¨¡å—å¦‚ `sam.py`ã€`predict.py`ã€`trainer.py` å’Œ `__init__.py` å¯èƒ½æ¶‰åŠç‰¹å®šçš„æ¨¡å‹å®ç°ã€æ¨ç†å’Œè®­ç»ƒé€»è¾‘ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                          | åŠŸèƒ½æè¿°                                               |
|--------------------------------------------------|--------------------------------------------------------|
| `ultralytics\data\augment.py`                   | å®ç°å¤šç§å›¾åƒå¢å¼ºæŠ€æœ¯ï¼Œæé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œé²æ£’æ€§ã€‚     |
| `ui.py`                                          | å¯åŠ¨ä¸€ä¸ªåŸºäº Streamlit çš„ Web åº”ç”¨ï¼Œä¾¿äºç”¨æˆ·äº¤äº’ã€‚      |
| `ultralytics\nn\tasks.py`                       | å®šä¹‰æ¨¡å‹ç»“æ„å’Œè®­ç»ƒé€»è¾‘ï¼Œæ”¯æŒå¤šç§è®¡ç®—æœºè§†è§‰ä»»åŠ¡ã€‚       |
| `train.py`                                       | è®¾ç½®å’Œå¯åŠ¨ YOLOv8 æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ã€‚                     |
| `ultralytics\engine\__init__.py`                | åˆå§‹åŒ–åŒ…ç»“æ„ï¼Œæ ‡è¯†è¯¥ç›®å½•ä¸ºä¸€ä¸ª Python åŒ…ã€‚             |
| `ultralytics\trackers\bot_sort.py`              | å®ç°åŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡è·Ÿè¸ªåŠŸèƒ½ï¼Œç»“åˆå¡å°”æ›¼æ»¤æ³¢å’Œ ReIDã€‚ |
| `ultralytics\models\sam\modules\sam.py`         | å®ç°ç‰¹å®šçš„æ¨¡å‹åŠŸèƒ½ï¼Œå¯èƒ½ä¸åˆ†å‰²æˆ–å…¶ä»–ä»»åŠ¡ç›¸å…³ã€‚         |
| `ultralytics\models\yolo\obb\predict.py`       | å¤„ç† YOLO æ¨¡å‹çš„æ¨ç†è¿‡ç¨‹ï¼Œå¯èƒ½æ¶‰åŠå®šå‘è¾¹ç•Œæ¡†æ£€æµ‹ã€‚     |
| `ultralytics\engine\trainer.py`                 | è´Ÿè´£è®­ç»ƒè¿‡ç¨‹çš„ç®¡ç†å’Œæ‰§è¡Œï¼Œå¯èƒ½åŒ…æ‹¬è®­ç»ƒå¾ªç¯å’Œæ—¥å¿—è®°å½•ã€‚ |
| `ultralytics\models\yolo\classify\__init__.py` | åˆå§‹åŒ–åˆ†ç±»æ¨¡å‹ç›¸å…³çš„æ¨¡å—ï¼Œå¯èƒ½åŒ…å«åˆ†ç±»æ¨¡å‹çš„å®šä¹‰ã€‚     |

è¿™ä¸ªè¡¨æ ¼æä¾›äº†æ¯ä¸ªæ–‡ä»¶çš„åŠŸèƒ½æ¦‚è¿°ï¼Œå¸®åŠ©ç†è§£æ•´ä¸ªç¨‹åºçš„ç»“æ„å’ŒåŠŸèƒ½æ¨¡å—ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–
![19.png](19.png)

#å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–é“¾æ¥
https://mbd.pub/o/bread/ZpqVmZ1y
